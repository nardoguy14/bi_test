version: 2

models:
  - name: simple_count
    description: "Simple test model for metrics"
    columns:
      - name: id
        description: "Record ID"
      - name: category
        description: "Category"
      - name: created_date
        description: "Created date"

semantic_models:
  - name: simple_count_semantic
    model: ref('simple_count')
    description: "Simple semantic model with minimal time dimension"
    
    defaults:
      agg_time_dimension: created_date
    
    entities:
      - name: record
        type: primary
        expr: id
    
    dimensions:
      - name: category
        type: categorical
        expr: category
      - name: created_date
        type: time
        expr: created_date
        type_params:
          time_granularity: month
    
    measures:
      - name: record_count
        agg: count
        expr: id
        description: "Count of records"
        agg_time_dimension: created_date

metrics:
  - name: simple_total_count
    label: "Simple Total Count"
    type: simple
    type_params:
      measure: record_count
    description: "Simple count metric with no time dimension"